# Abby Environment Configuration
# Copy this file to .env and fill in your values

# ========== Discord Configuration ==========
ABBY_TOKEN=your_discord_bot_token_here
DISCORD_GUILD_ID=your_guild_id_optional

# ========== Database Configuration ==========
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB=Abby

# ========== Path Configuration ==========
# Use absolute paths or relative to working directory
WORKING_DIRECTORY=c:\Abby_Discord_Latest
LOG_FILE_PATH=logs/abby.log
IMAGES_DIR=Images
AUDIO_ROOT=Audio_Recordings
SONGS_DIR=songs
AVATAR_DIR=Images/avatar

# ========== Storage Configuration ==========
# Root storage directory
STORAGE_ROOT=C:\opt\tdos\shared\storage\abby

# Storage limits
MAX_GLOBAL_STORAGE_MB=5000
MAX_USER_STORAGE_MB=500
MAX_USER_DAILY_GENS=5
# ========== LLM Configuration ==========
# Primary provider: ollama or openai
LLM_PROVIDER=ollama

# Ollama settings (local inference)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama3

# OpenAI settings (fallback)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo

# ========== RAG Configuration ==========
# Chroma vector store settings
CHROMA_PERSIST_DIR=chroma_db
CHROMA_HOST=  # Optional: remote Chroma host

# Embeddings configuration
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DEVICE=cpu  # cpu or cuda

# Optional: enable RAG context in chatbot
RAG_CONTEXT_ENABLED=false

# Qdrant vector store (for migration from Chroma)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=  # Optional: if using Qdrant cloud

# Chroma->Qdrant migration
MIGRATE_DRY_RUN=false

# ========== Moderation & Engagement ==========
# Auto-move images from general to memes
IMAGE_AUTO_MOVE_ENABLED=false
GENERAL_CHANNEL_ID=  # Channel to monitor for images
MEMES_CHANNEL_ID=  # Channel to move images to

# Nudges for inactive users
NUDGE_ENABLED=false
NUDGE_CHANNEL_ID=  # Channel to send nudges
NUDGE_INTERVAL_HOURS=24

# XP configuration
XP_CHANNEL_ID=  # Primary channel for XP gain
XP_MESSAGE_COOLDOWN_SECONDS=60
XP_ATTACHMENT_COOLDOWN_SECONDS=600
XP_STREAM_INTERVAL_MINUTES=5

# ========== Twitch Integration ==========
TWITCH_CLIENT_ID=your_twitch_client_id
TWITCH_CLIENT_SECRET=your_twitch_client_secret
TWITCH_NOTIFY_CHANNEL_ID=  # Channel for live notifications
TWITCH_POLL_MINUTES=15
TWITCH_ROLE_Z8PHYR_FAM=  # Optional: role ID to tag for specific streamer

# ========== External APIs ==========
YOUTUBE_API_KEY=your_youtube_api_key_optional

# ========== TDOS Configuration ==========
# Tenant identity (override for multi-server deployments)
TDOS_TENANT_ID=TENANT:BREEZE_CLUB

# Agent identity (fixed for Abby)
TDOS_AGENT_SUBJECT_ID=AGENT:ABBY-DISCORD

# Machine identity (loaded from TDOS registry)
TDOS_MACHINE_SUBJECT_ID=MACHINE:TSERVER

# Event logging
TDOS_EVENTS_PATH=shared/logs/events.jsonl
TDOS_EVENT_ID_PREFIX=EVT-ABBY

# ========== Optional: External Services ==========
# Stability AI for image generation
STABILITY_API_KEY=your_stability_api_key_here

# Twitch integration
TWITCH_CLIENT_ID=your_twitch_client_id_here
TWITCH_CLIENT_SECRET=your_twitch_client_secret_here
